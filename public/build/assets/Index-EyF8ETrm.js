import{d as re,p as b,n as de,c as V,C as E,r as x,a as d,o as u,s as m,e as n,w as r,u as s,m as ue,b as a,t as l,g as p,P as O,F as U,v as M,l as ce,M as me}from"./app-CveD8GQJ.js";import{A as ve}from"./AdminLayout-Bv0R89G9.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DbCxXuqh.js";const pe={key:0,class:"loading-overlay"},_e={class:"bg-white rounded-lg responsive-table p-4 shadow-md w-full"},ge={class:"mb-4 flex items-center justify-between"},fe={class:"text-lg font-semibold mb-4"},ye={key:1},be=["src","onClick"],he={key:1,class:"text-gray-400 mb-1"},xe={class:"mb-4"},ke={class:"block"},we={key:0,class:"text-red-500"},Ce={class:"mb-4"},Ie={class:"block"},Ue={key:0,class:"text-red-500"},Ne={class:"mb-4"},Ae={class:"block"},Le={key:0,class:"text-red-500"},$e={key:1,class:"mt-2"},je={class:"text-sm text-gray-600 mb-1"},De=["src"],Pe={class:"text-right"},Re={class:"mb-4"},Ee={class:"block"},Me={key:0,class:"text-red-500"},Fe={class:"mb-4"},Se={class:"block"},Be={key:0,class:"text-red-500"},Ve={class:"mb-4"},Oe={class:"block"},Te={key:0,class:"mb-2"},ze={class:"text-sm text-gray-500 mb-1"},Ye=["src"],qe={class:"text-xs text-gray-500 mt-1"},Ke={key:1,class:"text-red-500"},Ge={class:"mt-2 text-sm text-gray-500"},He={key:2,class:"mt-2"},Je={class:"text-sm text-gray-600 mb-1"},Qe=["src"],We={class:"text-right"},Xe={class:"text-md"},Ze={class:"mb-4"},et={class:"block"},tt={key:0,class:"text-red-500"},at={class:"mb-4"},lt={class:"block"},st={key:0,class:"text-red-500"},ot={class:"mb-4"},nt={class:"block"},it={key:0,class:"text-red-500"},rt={key:1,class:"mt-2"},dt={class:"text-sm text-gray-600 mb-1"},ut=["src"],ct={class:"text-right"},mt={class:"flex justify-center p-4"},vt=["src"],ft=re({__name:"Index",props:{categories:Object},setup(T){const h=b(!1),z=i=>i?ce(i).format("DD-MM-YYYY hh:mm A"):"N/A",Y=de(),t=V(()=>{var i;return((i=Y.props.translations)==null?void 0:i.dashboard_all_pages)||{}}),q=V(()=>[{title:t.value.sr||"Sr.",dataIndex:"id",key:"id"},{title:t.value.image||"Image",dataIndex:"image",key:"image"},{title:t.value.name||"Name",dataIndex:"name",key:"name"},{title:t.value.description||"Description",dataIndex:"description",key:"description"},{title:t.value.created_at||"Created At",dataIndex:"created_at",key:"created_at"},{title:t.value.action||"Action",dataIndex:"action",key:"action"}]),_=E({name:"",description:"",id:null,image:null}),c=E({id:null,name:"",description:"",image:null,_method:"PUT"}),v=E({id:null,name:"",description:"",category_id:null,image:null}),w=b(!1),F=b(""),N=b(""),f=b(""),A=b(""),L=b(!1),S=b(""),K=()=>{_.reset(),f.value="",w.value=!0},G=i=>{const e=i.target;e.files&&e.files[0]&&(_.image=e.files[0],f.value=URL.createObjectURL(e.files[0]))},H=i=>{const e=i.target;e.files&&e.files[0]&&(v.image=e.files[0],f.value=URL.createObjectURL(e.files[0]))},J=i=>{const e=i.target;e.files&&e.files[0]&&(c.image=e.files[0],A.value=URL.createObjectURL(e.files[0]))},Q=()=>{h.value=!0,_.post(route("admin.category.store"),{onSuccess:()=>{_.reset(),w.value=!1},onFinish:()=>{h.value=!1}})},W=i=>{me.confirm({title:t.value.confirm_delete_title||"Are you sure you want to delete",content:t.value.confirm_delete_content_category||"Deleting this category will also remove all associated brands. This action is irreversible. Are you sure you want to proceed?",okText:t.value.confirm_delete_ok||"Yes, Delete",okType:"danger",cancelText:t.value.confirm_delete_cancel||"Cancel",onOk(){h.value=!0,_.delete(route("admin.category.delete",{id:i}),{onFinish:()=>{h.value=!1}})}})},C=b(!1),I=b(!1),X=i=>{c.id=i.id,c.name=i.name,c.description=i.description,c.image=null,N.value=i.image,A.value="",C.value=!0},Z=i=>{F.value=i.name,v.category_id=i.id,I.value=!0},ee=()=>{h.value=!0,v.post(route("admin.brand.store"),{onSuccess:()=>{v.reset(),I.value=!1,f.value&&(URL.revokeObjectURL(f.value),f.value="")},onFinish:()=>{h.value=!1}})},te=()=>{h.value=!0,c.post(route("admin.category.update",{id:c.id}),{onSuccess:()=>{C.value=!1},onFinish:()=>{h.value=!1}})},ae=i=>{if(!i)return"";const e=i.split("/");return e[e.length-1]},le=i=>{S.value="/storage/"+i,L.value=!0};return(i,e)=>{const B=x("a-spin"),g=x("a-button"),$=x("a-tooltip"),se=x("a-table"),oe=x("a-col"),ne=x("a-row"),j=x("a-input"),P=x("a-textarea"),D=x("a-modal");return u(),d(U,null,[h.value?(u(),d("div",pe,[n(B,{size:"large"})])):m("",!0),n(ve,null,{default:r(()=>[n(s(ue),{title:t.value.category_title||"Category List"},null,8,["title"]),n(ne,null,{default:r(()=>[n(oe,{xs:24},{default:r(()=>{var o;return[a("div",_e,[a("div",ge,[a("h2",fe,l(t.value.category_title||"Category List"),1),a("div",null,[n(g,{onClick:e[0]||(e[0]=k=>K()),type:"default"},{default:r(()=>[p(l(t.value.add_category||"Add Category"),1)]),_:1}),n(s(O),{href:i.route("admin.category.log")},{default:r(()=>[n(g,{type:"default"},{default:r(()=>[p(l(t.value.category_logs||"Category Logs"),1)]),_:1})]),_:1},8,["href"])])]),n(se,{columns:q.value,"data-source":(o=T.categories)==null?void 0:o.data,rowKey:"id",scroll:{x:200}},{bodyCell:r(({column:k,record:y,index:ie})=>[k.dataIndex==="id"?(u(),d(U,{key:0},[p(l(ie+1),1)],64)):m("",!0),k.dataIndex==="image"?(u(),d("div",ye,[y.image?(u(),d("img",{key:0,src:"/storage/"+y.image,alt:"Category Image",class:"w-12 h-12 object-cover rounded mb-1 cursor-pointer hover:opacity-80 transition-opacity",onClick:R=>le(y.image)},null,8,be)):(u(),d("span",he,l(t.value.no_image||"No Image"),1))])):m("",!0),k.dataIndex==="name"?(u(),d(U,{key:2},[p(l(y.name),1)],64)):k.dataIndex==="created_at"?(u(),d(U,{key:3},[p(l(z(y.created_at)),1)],64)):k.dataIndex==="description"?(u(),d(U,{key:4},[p(l(y.description??"N/A"),1)],64)):k.dataIndex==="action"?(u(),d(U,{key:5},[n($,{placement:"top"},{title:r(()=>[p(l(t.value.edit||"Edit"),1)]),default:r(()=>[n(g,{type:"link",onClick:R=>X(y)},{default:r(()=>e[22]||(e[22]=[a("i",{class:"fa fa-pencil-square-o text-s text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),n($,{placement:"top"},{title:r(()=>[p(l(t.value.delete||"Delete"),1)]),default:r(()=>[n(g,{type:"link",onClick:R=>W(y.id)},{default:r(()=>e[23]||(e[23]=[a("i",{class:"fa fa-trash text-red-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),n($,{placement:"top"},{title:r(()=>[p(l(t.value.add_brand||"Add Brand"),1)]),default:r(()=>[n(g,{type:"link",onClick:R=>Z(y)},{default:r(()=>e[24]||(e[24]=[a("i",{class:"fa fa-creative-commons","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),n($,{placement:"top"},{title:r(()=>[p(l(t.value.brand_list||"Brand List"),1)]),default:r(()=>[n(s(O),{href:i.route("admin.related-brand-list",y.slug),class:"text-blue-500 hover:underline"},{default:r(()=>e[25]||(e[25]=[a("i",{class:"fa fa-list text-slate-800","aria-hidden":"true"},null,-1)])),_:2},1032,["href"])]),_:2},1024)],64)):m("",!0)]),_:1},8,["columns","data-source"])])]}),_:1})]),_:1}),n(D,{open:w.value,"onUpdate:open":e[5]||(e[5]=o=>w.value=o),title:t.value.add_category||"Add Category",onCancel:e[6]||(e[6]=o=>w.value=!1),footer:null},{default:r(()=>[a("form",{onSubmit:e[4]||(e[4]=M(o=>Q(),["prevent"])),enctype:"multipart/form-data"},[a("div",xe,[a("label",ke,l(t.value.name||"Name"),1),n(j,{value:s(_).name,"onUpdate:value":e[1]||(e[1]=o=>s(_).name=o),class:"mt-2 w-full",placeholder:t.value.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),s(_).errors.name?(u(),d("div",we,l(s(_).errors.name),1)):m("",!0)]),a("div",Ce,[a("label",Ie,l(t.value.description||"Description"),1),n(P,{value:s(_).description,"onUpdate:value":e[2]||(e[2]=o=>s(_).description=o),class:"mt-2 w-full",placeholder:t.value.eneter_description||"Enter Description","auto-size":{minRows:2,maxRows:5}},null,8,["value","placeholder"]),s(_).errors.description?(u(),d("div",Ue,l(s(_).errors.description),1)):m("",!0)]),a("div",Ne,[a("label",Ae,l(t.value.image||"Image"),1),a("input",{type:"file",onChange:G,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),s(_).errors.image?(u(),d("div",Le,l(s(_).errors.image),1)):m("",!0),f.value?(u(),d("div",$e,[a("p",je,l(t.value.preview||"Preview")+":",1),a("img",{src:f.value,alt:"Image Preview",class:"w-24 h-24 object-cover rounded border"},null,8,De)])):m("",!0)]),a("div",Pe,[n(g,{type:"default",onClick:e[3]||(e[3]=o=>w.value=!1)},{default:r(()=>[p(l(t.value.cancel||"Cancel"),1)]),_:1}),n(g,{type:"primary","html-type":"submit",class:"ml-2"},{default:r(()=>[p(l(t.value.add||"Add"),1)]),_:1})])],32)]),_:1},8,["open","title"]),n(D,{open:C.value,"onUpdate:open":e[11]||(e[11]=o=>C.value=o),title:t.value.update||"Edit Category",onCancel:e[12]||(e[12]=o=>C.value=!1),footer:null},{default:r(()=>[a("form",{onSubmit:e[10]||(e[10]=M(o=>te(),["prevent"])),enctype:"multipart/form-data"},[a("div",Re,[a("label",Ee,l(t.value.name||"Name"),1),n(j,{value:s(c).name,"onUpdate:value":e[7]||(e[7]=o=>s(c).name=o),class:"mt-2 w-full",placeholder:t.value.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),s(c).errors.name?(u(),d("div",Me,l(s(c).errors.name),1)):m("",!0)]),a("div",Fe,[a("label",Se,l(t.value.description||"Description"),1),n(P,{value:s(c).description,"onUpdate:value":e[8]||(e[8]=o=>s(c).description=o),class:"mt-2 w-full",placeholder:t.value.eneter_description||"Enter Description","auto-size":{minRows:2,maxRows:5}},null,8,["value","placeholder"]),s(c).errors.description?(u(),d("div",Be,l(s(c).errors.description),1)):m("",!0)]),a("div",Ve,[a("label",Oe,l(t.value.image||"Image"),1),N.value?(u(),d("div",Te,[a("p",ze,l(t.value.current_image||"Current Image"),1),a("img",{src:"/storage/"+N.value,alt:"Current Category Image",class:"w-24 h-24 object-cover rounded border"},null,8,Ye),a("p",qe,l(ae(N.value)),1)])):m("",!0),a("input",{type:"file",onChange:J,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),s(c).errors.image?(u(),d("div",Ke,l(s(c).errors.image),1)):m("",!0),a("div",Ge,l(t.value.keep_current_image||"Leave empty to keep the current image"),1),A.value?(u(),d("div",He,[a("p",Je,l(t.value.new_image_preview||"New Image Preview")+":",1),a("img",{src:A.value,alt:"New Image Preview",class:"w-24 h-24 object-cover rounded border"},null,8,Qe)])):m("",!0)]),a("div",We,[n(g,{type:"default",onClick:e[9]||(e[9]=o=>C.value=!1)},{default:r(()=>[p(l(t.value.cancel||"Cancel"),1)]),_:1}),n(g,{type:"primary","html-type":"submit",class:"ml-2"},{default:r(()=>[p(l(t.value.update||"Update"),1)]),_:1})])],32)]),_:1},8,["open","title"]),n(D,{open:I.value,"onUpdate:open":e[18]||(e[18]=o=>I.value=o),title:t.value.add_brand||"Add Brand",onCancel:e[19]||(e[19]=o=>I.value=!1),footer:null},{default:r(()=>[a("h4",Xe,l(t.value.category||"Category")+" ("+l(F.value)+")",1),a("form",{onSubmit:e[17]||(e[17]=M(o=>ee(),["prevent"])),enctype:"multipart/form-data"},[n(j,{hidden:"",value:s(v).category_id,"onUpdate:value":e[13]||(e[13]=o=>s(v).category_id=o),class:"mt-2 w-full",placeholder:t.value.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),a("div",Ze,[a("label",et,l(t.value.name||"Name"),1),n(j,{value:s(v).name,"onUpdate:value":e[14]||(e[14]=o=>s(v).name=o),class:"mt-2 w-full",placeholder:t.value.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),s(v).errors.name?(u(),d("div",tt,l(s(v).errors.name),1)):m("",!0)]),a("div",at,[a("label",lt,l(t.value.description||"Description"),1),n(P,{value:s(v).description,"onUpdate:value":e[15]||(e[15]=o=>s(v).description=o),class:"mt-2 w-full",placeholder:t.value.eneter_description||"Enter Description","auto-size":{minRows:2,maxRows:5}},null,8,["value","placeholder"]),s(v).errors.description?(u(),d("div",st,l(s(v).errors.description),1)):m("",!0)]),a("div",ot,[a("label",nt,l(t.value.image||"Image"),1),a("input",{type:"file",onChange:H,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),s(v).errors.image?(u(),d("div",it,l(s(v).errors.image),1)):m("",!0),f.value?(u(),d("div",rt,[a("p",dt,l(t.value.preview||"Preview")+":",1),a("img",{src:f.value,alt:"Image Preview",class:"w-24 h-24 object-cover rounded border"},null,8,ut)])):m("",!0)]),a("div",ct,[n(g,{type:"default",onClick:e[16]||(e[16]=o=>I.value=!1)},{default:r(()=>[p(l(t.value.cancel||"Cancel"),1)]),_:1}),n(g,{type:"primary","html-type":"submit",class:"ml-2"},{default:r(()=>[p(l(t.value.save||"Save"),1)]),_:1})])],32)]),_:1},8,["open","title"]),n(D,{open:L.value,"onUpdate:open":e[20]||(e[20]=o=>L.value=o),title:t.value.preview||"Image Preview",onCancel:e[21]||(e[21]=o=>L.value=!1),footer:null,width:"600px"},{default:r(()=>[a("div",mt,[a("img",{src:S.value,alt:"Full Size Image",class:"max-w-full max-h-[500px] object-cover"},null,8,vt)])]),_:1},8,["open","title"])]),_:1})],64)}}});export{ft as default};
