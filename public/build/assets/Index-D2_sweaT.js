import{d as h,p as D,c as ee,C as I,r as b,a as i,o as r,s as p,e as l,w as a,u as s,m as te,b as o,f as se,g as u,P as L,F as x,t as m,v as $,l as le,M as ae}from"./app-CveD8GQJ.js";import{A as oe}from"./AdminLayout-Bv0R89G9.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DbCxXuqh.js";const ne={key:0,class:"loading-overlay"},de={class:"bg-white rounded-lg p-4 shadow-md responsive-table"},re={class:"mb-4 flex items-center justify-between"},ie={class:"mb-4"},ue={key:0,class:"text-red-500"},pe={class:"mb-4"},me={key:0,class:"text-red-500"},ve={class:"mb-4"},ce={key:0,class:"text-red-500"},fe={class:"text-right"},be={class:"mb-4"},ke={key:0,class:"text-red-500"},ye={class:"mb-4"},xe={key:0,class:"text-red-500"},_e={class:"text-right"},Pe={class:"text-md"},we={class:"mb-1"},Ce={key:0,class:"text-red-500"},ge={class:"mb-1"},De={key:0,class:"text-red-500"},Ae={class:"mb-1"},Ie={key:0,class:"text-red-500"},Ue={class:"mb-4"},Ne={key:0,class:"text-red-500"},Se={class:"text-right"},Fe=h({__name:"Index",props:{products:Object,brands:Array},setup(U){const k=D(!1),B=d=>d?le(d).format("DD-MM-YYYY hh:mm A"):"N/A",V=[{title:"ID",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Description",dataIndex:"description",key:"description"},{title:"Brand",dataIndex:"brand",key:"brand"},{title:"Created At",dataIndex:"created_at",key:"created_at"},{title:"Action",dataIndex:"action",key:"action"}],R=U,O=ee(()=>{var d;return((d=R.brands)==null?void 0:d.map(e=>({value:e.id,label:e.name})))||[]}),T=(d,e)=>e.label.toLowerCase().includes(d.toLowerCase()),Y=I({}),z=d=>{ae.confirm({title:"Are you sure you want to delete this Product?",content:"This action cannot be undone.",okText:"Yes, Delete",okType:"danger",cancelText:"Cancel",onOk(){k.value=!0,Y.delete(route("admin.product.delete",d),{onSuccess:()=>{},onFinish:()=>{k.value=!1}})}})},_=D(!1),P=D(!1),w=D(!1),E=D(""),v=I({name:"",description:"",brand_id:null}),c=I({id:null,name:"",description:""}),n=I({id:null,purchase_price:"",sale_price:"",stock:"",product_id:null,description:""}),j=()=>{_.value=!0},q=d=>{c.id=d.id,c.name=d.name,c.description=d.description,P.value=!0},K=d=>{n.id=d.id,w.value=!0,E.value=d.name,n.product_id=d.id},G=()=>{k.value=!0,v.post(route("admin.product.store"),{onSuccess:()=>{v.reset(),_.value=!1},onFinish:()=>{k.value=!1}})},H=()=>{k.value=!0,c.put(route("admin.product.update",c.id),{onSuccess:()=>{P.value=!1},onFinish:()=>{k.value=!1}})},J=()=>{k.value=!0,n.post(route("admin.purchase.product.detail.store"),{onSuccess:()=>{n.reset(),w.value=!1},onFinish:()=>{k.value=!1}})};return(d,e)=>{const Q=b("a-spin"),f=b("a-button"),A=b("a-tooltip"),W=b("a-table"),g=b("a-col"),M=b("a-row"),X=b("a-select"),C=b("a-input"),N=b("a-textarea"),S=b("a-modal");return r(),i(x,null,[k.value?(r(),i("div",ne,[l(Q,{size:"large"})])):p("",!0),l(oe,null,{default:a(()=>[l(s(te),{title:"Product List"}),l(M,null,{default:a(()=>[l(g,{span:24},{default:a(()=>[o("div",de,[o("div",re,[e[24]||(e[24]=o("h2",{class:"text-lg font-semibold"},"Product List ",-1)),o("div",null,[l(f,{class:"mx-2",type:"default",onClick:e[0]||(e[0]=t=>j())},{default:a(()=>e[22]||(e[22]=[u(" Add Product ")])),_:1}),l(s(L),{href:d.route("admin.product-log")},{default:a(()=>[l(f,{class:"mx-2",type:"default"},{default:a(()=>e[23]||(e[23]=[u("Product Logs")])),_:1})]),_:1},8,["href"])])]),U.products?(r(),se(W,{key:0,columns:V,"data-source":U.products.data,rowKey:"id",bordered:""},{bodyCell:a(({column:t,record:y,index:Z})=>[t.dataIndex==="id"?(r(),i(x,{key:0},[u(m(Z+1),1)],64)):p("",!0),t.dataIndex==="name"?(r(),i(x,{key:1},[u(m(y.name),1)],64)):p("",!0),t.dataIndex==="description"?(r(),i(x,{key:2},[u(m(y.description?y.description:"N/A"),1)],64)):p("",!0),t.dataIndex==="brand"?(r(),i(x,{key:3},[u(m(y.brand.slug),1)],64)):t.dataIndex==="created_at"?(r(),i(x,{key:4},[u(m(B(y.created_at)),1)],64)):t.dataIndex==="action"?(r(),i(x,{key:5},[l(A,{placement:"top"},{title:a(()=>e[25]||(e[25]=[u("Delete")])),default:a(()=>[l(f,{type:"link",onClick:F=>z(y.id)},{default:a(()=>e[26]||(e[26]=[o("i",{class:"fa fa-trash text-red-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),l(A,{placement:"top"},{title:a(()=>e[27]||(e[27]=[u("Edit")])),default:a(()=>[l(f,{type:"link",onClick:F=>q(y)},{default:a(()=>e[28]||(e[28]=[o("i",{class:"fa fa-pencil-square-o text-s text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),l(A,{placement:"top"},{title:a(()=>e[29]||(e[29]=[u("Add Purchase Details")])),default:a(()=>[l(f,{type:"link",onClick:F=>K(y)},{default:a(()=>e[30]||(e[30]=[o("i",{class:"fa fa-shopping-cart text-emerald-950","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),l(A,{placement:"top"},{title:a(()=>e[31]||(e[31]=[u("Purchase Product List")])),default:a(()=>[l(s(L),{href:d.route("admin.related.purchase.product.list",y.slug),class:"text-blue-500 hover:underline"},{default:a(()=>e[32]||(e[32]=[o("i",{class:"fa fa-list text-slate-800","aria-hidden":"true"},null,-1)])),_:2},1032,["href"])]),_:2},1024)],64)):p("",!0)]),_:1},8,["data-source"])):p("",!0)])]),_:1})]),_:1}),l(S,{open:_.value,"onUpdate:open":e[5]||(e[5]=t=>_.value=t),title:"Add Product",onCancel:e[6]||(e[6]=t=>_.value=!1),footer:null},{default:a(()=>[o("form",{onSubmit:$(G,["prevent"])},[o("div",ie,[e[33]||(e[33]=o("label",{class:"block"},"Brand",-1)),l(X,{value:s(v).brand_id,"onUpdate:value":e[1]||(e[1]=t=>s(v).brand_id=t),"show-search":"",placeholder:"Select Brand",style:{width:"100%"},options:O.value,"filter-option":T},null,8,["value","options"]),s(v).errors.brand_id?(r(),i("div",ue,m(s(v).errors.brand_id),1)):p("",!0)]),o("div",pe,[e[34]||(e[34]=o("label",{class:"block"},"Name",-1)),l(C,{value:s(v).name,"onUpdate:value":e[2]||(e[2]=t=>s(v).name=t),class:"mt-2 w-full",placeholder:"Enter Name"},null,8,["value"]),s(v).errors.name?(r(),i("div",me,m(s(v).errors.name),1)):p("",!0)]),o("div",ve,[e[35]||(e[35]=o("label",{class:"block"},"Description",-1)),l(N,{value:s(v).description,"onUpdate:value":e[3]||(e[3]=t=>s(v).description=t),class:"mt-2 w-full",placeholder:"Description","auto-size":{minRows:2,maxRows:5}},null,8,["value"]),s(v).errors.description?(r(),i("div",ce,m(s(v).errors.description),1)):p("",!0)]),o("div",fe,[l(f,{type:"default",onClick:e[4]||(e[4]=t=>_.value=!1)},{default:a(()=>e[36]||(e[36]=[u("Cancel")])),_:1}),l(f,{type:"primary","html-type":"submit",class:"ml-2"},{default:a(()=>e[37]||(e[37]=[u("Save")])),_:1})])],32)]),_:1},8,["open"]),l(S,{open:P.value,"onUpdate:open":e[11]||(e[11]=t=>P.value=t),title:"Edit Product",onCancel:e[12]||(e[12]=t=>P.value=!1),footer:null},{default:a(()=>[o("form",{onSubmit:e[10]||(e[10]=$(t=>H(),["prevent"]))},[o("div",be,[e[38]||(e[38]=o("label",{class:"block"},"Name",-1)),l(C,{value:s(c).name,"onUpdate:value":e[7]||(e[7]=t=>s(c).name=t),class:"mt-2 w-full",placeholder:"Enter Name"},null,8,["value"]),s(c).errors.name?(r(),i("div",ke,m(s(c).errors.name),1)):p("",!0)]),o("div",ye,[e[39]||(e[39]=o("label",{class:"block"},"Description",-1)),l(N,{value:s(c).description,"onUpdate:value":e[8]||(e[8]=t=>s(c).description=t),class:"mt-2 w-full",placeholder:"Description","auto-size":{minRows:2,maxRows:5}},null,8,["value"]),s(c).errors.description?(r(),i("div",xe,m(s(c).errors.description),1)):p("",!0)]),o("div",_e,[l(f,{type:"default",onClick:e[9]||(e[9]=t=>P.value=!1)},{default:a(()=>e[40]||(e[40]=[u("Cancel")])),_:1}),l(f,{type:"primary","html-type":"submit",class:"ml-2"},{default:a(()=>e[41]||(e[41]=[u("Update")])),_:1})])],32)]),_:1},8,["open"]),l(S,{open:w.value,"onUpdate:open":e[20]||(e[20]=t=>w.value=t),title:"Product Purchase Detail",onCancel:e[21]||(e[21]=t=>w.value=!1),footer:null},{default:a(()=>[o("h4",Pe,"Product - ("+m(E.value)+")",1),o("form",{onSubmit:e[19]||(e[19]=$(t=>J(),["prevent"]))},[l(C,{hidden:"",value:s(n).product_id,"onUpdate:value":e[13]||(e[13]=t=>s(n).product_id=t),class:"mt-2 w-full",placeholder:"Enter Name"},null,8,["value"]),l(M,null,{default:a(()=>[l(g,{span:24},{default:a(()=>[o("div",we,[e[42]||(e[42]=o("label",{class:"block"},"Purchase Price",-1)),l(C,{type:"number",value:s(n).purchase_price,"onUpdate:value":e[14]||(e[14]=t=>s(n).purchase_price=t),class:"mt-2 w-full",placeholder:"Enter Purchase Price"},null,8,["value"]),s(n).errors.purchase_price?(r(),i("div",Ce,m(s(n).errors.purchase_price),1)):p("",!0)])]),_:1}),l(g,{span:24},{default:a(()=>[o("div",ge,[e[43]||(e[43]=o("label",{class:"block"},"Sale Price",-1)),l(C,{type:"number",value:s(n).sale_price,"onUpdate:value":e[15]||(e[15]=t=>s(n).sale_price=t),class:"mt-2 w-full",placeholder:"Enter Purchase Price"},null,8,["value"]),s(n).errors.sale_price?(r(),i("div",De,m(s(n).errors.sale_price),1)):p("",!0)])]),_:1}),l(g,{span:24},{default:a(()=>[o("div",Ae,[e[44]||(e[44]=o("label",{class:"block"},"Stock",-1)),l(C,{min:1,type:"number",value:s(n).stock,"onUpdate:value":e[16]||(e[16]=t=>s(n).stock=t),class:"mt-2 w-full",placeholder:"Enter Purchase Price"},null,8,["value"]),s(n).errors.stock?(r(),i("div",Ie,m(s(n).errors.stock),1)):p("",!0)])]),_:1}),l(g,{span:24},{default:a(()=>[o("div",Ue,[e[45]||(e[45]=o("label",{class:"block"},"Description( Optional)",-1)),l(N,{value:s(n).description,"onUpdate:value":e[17]||(e[17]=t=>s(n).description=t),class:"mt-2 w-full",placeholder:"Description","auto-size":{minRows:2,maxRows:5}},null,8,["value"]),s(n).errors.description?(r(),i("div",Ne,m(s(n).errors.description),1)):p("",!0)])]),_:1})]),_:1}),o("div",Se,[l(f,{type:"default",onClick:e[18]||(e[18]=t=>w.value=!1)},{default:a(()=>e[46]||(e[46]=[u("Cancel")])),_:1}),l(f,{type:"primary","html-type":"submit",class:"ml-2"},{default:a(()=>e[47]||(e[47]=[u("Save")])),_:1})])],32)]),_:1},8,["open"])]),_:1})],64)}}});export{Fe as default};
