import{d as S,p as C,C as w,r as u,f as I,o as r,w as t,e as a,u as l,m as U,b as s,s as f,t as p,P as g,g as i,a as m,F as b,v as O,l as R,M as q}from"./app-CveD8GQJ.js";import{A as z}from"./AdminLayout-Bv0R89G9.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DbCxXuqh.js";const K={class:"bg-white rounded-lg p-4 shadow-md responsive-table"},G={class:"mb-4 flex items-center justify-between"},H={class:"text-lg font-semibold"},J={class:"mb-4"},Q={key:0,class:"text-red-500"},W={class:"mb-4"},X={key:0,class:"text-red-500"},Z={class:"text-right"},ae=S({__name:"BrandProductList",props:{products:Object,brand:Object},setup(x){const k=C(!1),D=d=>d?R(d).format("DD-MM-YYYY hh:mm A"):"N/A",A=[{title:"ID",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Description",dataIndex:"description",key:"description"},{title:"Brand",dataIndex:"brand",key:"brand"},{title:"Created At",dataIndex:"created_at",key:"created_at"},{title:"Action",dataIndex:"action",key:"action"}],N=w({}),P=d=>{q.confirm({title:"Are you sure you want to delete this Product?",content:"This action cannot be undone.",okText:"Yes, Delete",okType:"danger",cancelText:"Cancel",onOk(){k.value=!0,N.delete(route("admin.product.delete",d),{onSuccess:()=>{},onFinish:()=>{k.value=!1}})}})},v=C(!1),o=w({id:null,name:"",description:""}),B=d=>{o.id=d.id,o.name=d.name,o.description=d.description,v.value=!0},M=()=>{k.value=!0,o.put(route("admin.product.update",o.id),{onSuccess:()=>{v.value=!1},onFinish:()=>{k.value=!1}})};return(d,e)=>{const y=u("a-button"),_=u("a-tooltip"),E=u("a-table"),L=u("a-col"),F=u("a-row"),T=u("a-input"),V=u("a-textarea"),Y=u("a-modal");return r(),I(z,null,{default:t(()=>[a(l(U),{title:"Product List"}),a(F,null,{default:t(()=>[a(L,{span:24},{default:t(()=>[s("div",K,[s("div",G,[s("h2",H,"Product List - "+p(x.brand.name),1),s("div",null,[a(l(g),{href:d.route("admin.brands")},{default:t(()=>[a(y,{class:"mx-2",type:"default"},{default:t(()=>e[6]||(e[6]=[i("Back")])),_:1})]),_:1},8,["href"]),a(l(g),{href:d.route("admin.products")},{default:t(()=>[a(y,{class:"mx-2",type:"default"},{default:t(()=>e[7]||(e[7]=[i("All products List")])),_:1})]),_:1},8,["href"])])]),x.products?(r(),I(E,{key:0,columns:A,"data-source":x.products.data,rowKey:"id",bordered:""},{bodyCell:t(({column:n,record:c,index:$})=>[n.dataIndex==="id"?(r(),m(b,{key:0},[i(p($+1),1)],64)):f("",!0),n.dataIndex==="name"?(r(),m(b,{key:1},[i(p(c.name),1)],64)):f("",!0),n.dataIndex==="description"?(r(),m(b,{key:2},[i(p(c.description?c.description:"N/A"),1)],64)):f("",!0),n.dataIndex==="brand"?(r(),m(b,{key:3},[i(p(c.brand.slug),1)],64)):n.dataIndex==="created_at"?(r(),m(b,{key:4},[i(p(D(c.created_at)),1)],64)):n.dataIndex==="action"?(r(),m(b,{key:5},[a(_,{placement:"top"},{title:t(()=>e[8]||(e[8]=[i("Delete")])),default:t(()=>[a(y,{type:"link",onClick:j=>P(c.id)},{default:t(()=>e[9]||(e[9]=[s("i",{class:"fa fa-trash text-red-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),a(_,{placement:"top"},{title:t(()=>e[10]||(e[10]=[i("Edit")])),default:t(()=>[a(y,{type:"link",onClick:j=>B(c)},{default:t(()=>e[11]||(e[11]=[s("i",{class:"fa fa-pencil-square-o text-s text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024)],64)):f("",!0)]),_:1},8,["data-source"])):f("",!0)])]),_:1})]),_:1}),a(Y,{open:v.value,"onUpdate:open":e[4]||(e[4]=n=>v.value=n),title:"Edit Product",onCancel:e[5]||(e[5]=n=>v.value=!1),footer:null},{default:t(()=>[s("form",{onSubmit:e[3]||(e[3]=O(n=>M(),["prevent"]))},[s("div",J,[e[12]||(e[12]=s("label",{class:"block"},"Name",-1)),a(T,{value:l(o).name,"onUpdate:value":e[0]||(e[0]=n=>l(o).name=n),class:"mt-2 w-full",placeholder:"Enter Name"},null,8,["value"]),l(o).errors.name?(r(),m("div",Q,p(l(o).errors.name),1)):f("",!0)]),s("div",W,[e[13]||(e[13]=s("label",{class:"block"},"Description",-1)),a(V,{value:l(o).description,"onUpdate:value":e[1]||(e[1]=n=>l(o).description=n),class:"mt-2 w-full",placeholder:"Description","auto-size":{minRows:2,maxRows:5}},null,8,["value"]),l(o).errors.description?(r(),m("div",X,p(l(o).errors.description),1)):f("",!0)]),s("div",Z,[a(y,{type:"default",onClick:e[2]||(e[2]=n=>v.value=!1)},{default:t(()=>e[14]||(e[14]=[i("Cancel")])),_:1}),a(y,{type:"primary","html-type":"submit",class:"ml-2"},{default:t(()=>e[15]||(e[15]=[i("Update")])),_:1})])],32)]),_:1},8,["open"])]),_:1})}}});export{ae as default};
