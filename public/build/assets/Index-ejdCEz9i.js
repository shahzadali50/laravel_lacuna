import{d as de,p as b,n as ue,c as L,C as M,r as y,a as d,o as u,s as p,e as n,w as r,u as s,m as ce,b as t,t as o,g as v,P as V,F as x,v as j,x as me,y as ve,l as pe,M as _e}from"./app-CveD8GQJ.js";import{A as fe}from"./AdminLayout-Bv0R89G9.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DbCxXuqh.js";const ge={key:0,class:"loading-overlay"},be={class:"bg-white p-4 rounded-lg responsive-table"},ye={class:"mb-4 flex items-center justify-between"},ke={class:"text-lg font-semibold mb-4"},xe={key:1},we=["src","onClick"],he={key:1,class:"text-gray-400 mb-1"},Ce={class:"mb-4"},Ie={class:"block"},Ne={key:0,class:"text-red-500"},Ue={class:"mb-4"},Be={class:"block"},Pe={key:0,class:"text-red-500"},Ae={class:"mb-4"},$e={class:"block"},De={key:0,class:"text-red-500"},Se={class:"mb-4"},Le={class:"block"},Me={key:0,class:"text-red-500"},je={key:1,class:"mt-2"},Ee=["src"],Re={class:"text-right"},Fe={class:"mb-4"},Ve={class:"block"},Oe={key:0,class:"text-red-500"},Te={class:"mb-4"},ze={class:"block"},Ye={key:0,class:"text-red-500"},qe={class:"mb-4"},Ke={class:"block"},Ge={key:0,class:"mb-2"},He={class:"text-sm text-gray-500 mb-1"},Je=["src"],Qe={key:1,class:"text-red-500"},We={class:"mt-2 text-sm text-gray-500"},Xe={key:2,class:"mt-2"},Ze={class:"text-sm text-gray-600 mb-1"},et=["src"],tt={class:"text-right"},at={class:"text-md"},lt={class:"mb-4"},st={key:0,class:"text-red-500"},ot={class:"mb-4"},nt={key:0,class:"text-red-500"},it={class:"text-right"},rt={class:"flex justify-center p-4"},dt=["src"],vt=de({__name:"Index",props:{categories:Array,brands:Object},setup(E){const k=b(!1),O=ue(),l=L(()=>{var i;return((i=O.props.translations)==null?void 0:i.dashboard_all_pages)||{}}),T=L(()=>[{title:l.value.sr||"Sr.",dataIndex:"id",key:"id"},{title:l.value.image||"Image",dataIndex:"image",key:"image"},{title:l.value.name||"Name",dataIndex:"name",key:"name"},{title:l.value.description||"Description",dataIndex:"description",key:"description"},{title:l.value.category||"Category",dataIndex:"category",key:"category"},{title:l.value.created_at||"Created At",dataIndex:"created_at",key:"created_at"},{title:l.value.action||"Action",dataIndex:"action",key:"action"}]),z=i=>i?pe(i).format("DD-MM-YYYY hh:mm A"):"N/A",Y=E,q=L(()=>{var i;return((i=Y.categories)==null?void 0:i.map(e=>({value:e.id,label:e.name})))||[]}),K=(i,e)=>e.label.toLowerCase().includes(i.toLowerCase()),c=M({name:"",description:"",category_id:null,image:null}),m=M({id:null,name:"",description:"",image:null,_method:"PUT"}),_=M({id:null,name:"",description:"",brand_id:null}),G=i=>{_e.confirm({title:l.value.confirm_delete_title||"Are you sure you want to delete",content:l.value.delete_brand_warning||"This action cannot be undone.",okText:l.value.confirm_delete_ok||"Yes, Delete",okType:"danger",cancelText:l.value.confirm_delete_cancel||"Cancel",onOk(){k.value=!0,c.delete(route("admin.brand.delete",{id:i}),{onSuccess:()=>{},onFinish:()=>{k.value=!1}})}})},w=b(!1),h=b(!1),C=b(!1),R=b(""),F=b(""),I=b(!1),H=()=>{c.reset(),N.value=null,C.value=!0},J=i=>{m.id=i.id,m.name=i.name,m.description=i.description,m.image=null,$.value=i.image,U.value="",w.value=!0},N=b(null),Q=i=>{const e=i.target;e.files&&e.files[0]&&(c.image=e.files[0],N.value=URL.createObjectURL(e.files[0]))},W=()=>{k.value=!0,c.post(route("admin.brand.store"),{onSuccess:()=>{c.reset(),C.value=!1},onFinish:()=>{k.value=!1}})},X=()=>{k.value=!0,m.post(route("admin.brand.update",{id:m.id}),{onSuccess:()=>{w.value=!1},onFinish:()=>{k.value=!1}})},Z=i=>{R.value=i.name,_.brand_id=i.id,h.value=!0},ee=()=>{k.value=!0,_.post(route("admin.product.store"),{onSuccess:()=>{_.reset(),h.value=!1},onFinish:()=>{k.value=!1}})},te=i=>{F.value="/storage/"+i,I.value=!0},U=b(""),$=b(""),ae=i=>{const e=i.target;e.files&&e.files[0]&&(m.image=e.files[0],U.value=URL.createObjectURL(e.files[0]))};return(i,e)=>{const le=y("a-spin"),g=y("a-button"),B=y("a-tooltip"),se=y("a-table"),oe=y("a-col"),ne=y("a-row"),ie=y("a-select"),P=y("a-input"),D=y("a-textarea"),A=y("a-modal");return u(),d(x,null,[k.value?(u(),d("div",ge,[n(le,{size:"large"})])):p("",!0),n(fe,null,{default:r(()=>[n(s(ce),{title:l.value.brand_title||"Brand List"},null,8,["title"]),n(ne,null,{default:r(()=>[n(oe,{xs:24},{default:r(()=>[t("div",be,[t("div",ye,[t("h2",ke,o(l.value.brand_title||"Brand List"),1),t("div",null,[n(g,{onClick:e[0]||(e[0]=a=>H()),type:"default"},{default:r(()=>[v(o(l.value.add_brand||"Add Brand"),1)]),_:1}),n(s(V),{href:i.route("admin.brand-log")},{default:r(()=>[n(g,{type:"default"},{default:r(()=>[v(o(l.value.brand_logs||"Brand Logs"),1)]),_:1})]),_:1},8,["href"])])]),n(se,{columns:T.value,"data-source":E.brands.data,rowKey:"id"},{bodyCell:r(({column:a,record:f,index:re})=>[a.dataIndex==="id"?(u(),d(x,{key:0},[v(o(re+1),1)],64)):p("",!0),a.dataIndex==="image"?(u(),d("div",xe,[f.image?(u(),d("img",{key:0,src:"/storage/"+f.image,alt:"Category Image",class:"w-12 h-12 object-cover rounded mb-1 cursor-pointer hover:opacity-80 transition-opacity",onClick:S=>te(f.image)},null,8,we)):(u(),d("span",he,"No Image"))])):p("",!0),a.dataIndex==="name"?(u(),d(x,{key:2},[v(o(f.name),1)],64)):a.dataIndex==="description"?(u(),d(x,{key:3},[v(o(f.description?f.description:"N/A"),1)],64)):a.dataIndex==="category"?(u(),d(x,{key:4},[v(o(f.category_name||"N/A"),1)],64)):a.dataIndex==="created_at"?(u(),d(x,{key:5},[v(o(z(f.created_at)),1)],64)):a.dataIndex==="action"?(u(),d(x,{key:6},[n(B,{placement:"top"},{title:r(()=>[v(o(l.value.delete||"Delete"),1)]),default:r(()=>[n(g,{type:"link",onClick:S=>G(f.id)},{default:r(()=>e[23]||(e[23]=[t("i",{class:"fa fa-trash text-red-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),n(B,{placement:"top"},{title:r(()=>[v(o(l.value.edit||"Edit"),1)]),default:r(()=>[n(g,{type:"link",onClick:S=>J(f)},{default:r(()=>e[24]||(e[24]=[t("i",{class:"fa fa-pencil-square-o text-s text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),n(B,{placement:"top"},{title:r(()=>[v(o(l.value.add_product||"Add Product"),1)]),default:r(()=>[n(g,{type:"link",onClick:S=>Z(f)},{default:r(()=>e[25]||(e[25]=[t("i",{class:"fa fa-product-hunt text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),n(B,{placement:"top"},{title:r(()=>[v(o(l.value.product_list||"Product List"),1)]),default:r(()=>[n(s(V),{href:i.route("admin.related-product-list",f.slug),class:"text-blue-500 hover:underline"},{default:r(()=>e[26]||(e[26]=[t("i",{class:"fa fa-list text-slate-800","aria-hidden":"true"},null,-1)])),_:2},1032,["href"])]),_:2},1024)],64)):p("",!0)]),_:1},8,["columns","data-source"])])]),_:1})]),_:1}),n(A,{open:C.value,"onUpdate:open":e[6]||(e[6]=a=>C.value=a),title:l.value.add_brand||"Add Brand",onCancel:e[7]||(e[7]=a=>C.value=!1),footer:null},{default:r(()=>[t("form",{onSubmit:e[5]||(e[5]=j(a=>W(),["prevent"])),enctype:"multipart/form-data"},[t("div",Ce,[t("label",Ie,o(l.value.category||"Category"),1),n(ie,{value:s(c).category_id,"onUpdate:value":e[1]||(e[1]=a=>s(c).category_id=a),"show-search":"",placeholder:"Select a Category",class:"mt-2 w-full",options:q.value,"filter-option":K},null,8,["value","options"]),s(c).errors.category_id?(u(),d("div",Ne,o(s(c).errors.category_id),1)):p("",!0)]),t("div",Ue,[t("label",Be,o(l.value.name||"Name"),1),n(P,{value:s(c).name,"onUpdate:value":e[2]||(e[2]=a=>s(c).name=a),class:"mt-2 w-full",placeholder:"Enter Name"},null,8,["value"]),s(c).errors.name?(u(),d("div",Pe,o(s(c).errors.name),1)):p("",!0)]),t("div",Ae,[t("label",$e,o(l.value.description||"Description"),1),n(D,{value:s(c).description,"onUpdate:value":e[3]||(e[3]=a=>s(c).description=a),class:"mt-2 w-full",placeholder:"Description","auto-size":{minRows:2,maxRows:5}},null,8,["value"]),s(c).errors.description?(u(),d("div",De,o(s(c).errors.description),1)):p("",!0)]),t("div",Se,[t("label",Le,o(l.value.image||"Image"),1),t("input",{type:"file",onChange:Q,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),s(c).errors.image?(u(),d("div",Me,o(s(c).errors.image),1)):p("",!0),N.value?(u(),d("div",je,[e[27]||(e[27]=t("p",{class:"text-sm text-gray-600 mb-1"},"Preview",-1)),t("img",{src:N.value,alt:"Image Preview",class:"w-24 h-24 object-cover rounded border"},null,8,Ee)])):p("",!0)]),t("div",Re,[n(g,{type:"default",onClick:e[4]||(e[4]=a=>C.value=!1)},{default:r(()=>[v(o(l.value.cancel||"Cancel"),1)]),_:1}),n(g,{type:"primary","html-type":"submit",class:"ml-2"},{default:r(()=>[v(o(l.value.save||"Save"),1)]),_:1})])],32)]),_:1},8,["open","title"]),n(A,{open:w.value,"onUpdate:open":e[12]||(e[12]=a=>w.value=a),title:l.value.update||"Edit Brand",onCancel:e[13]||(e[13]=a=>w.value=!1),footer:null},{default:r(()=>[t("form",{onSubmit:e[11]||(e[11]=j(a=>X(),["prevent"])),enctype:"multipart/form-data"},[t("div",Fe,[t("label",Ve,o(l.value.name||"Name"),1),n(P,{value:s(m).name,"onUpdate:value":e[8]||(e[8]=a=>s(m).name=a),class:"mt-2 w-full",placeholder:l.value.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),s(m).errors.name?(u(),d("div",Oe,o(s(m).errors.name),1)):p("",!0)]),t("div",Te,[t("label",ze,o(l.value.description||"Description"),1),n(D,{value:s(m).description,"onUpdate:value":e[9]||(e[9]=a=>s(m).description=a),class:"mt-2 w-full",placeholder:l.value.eneter_description||"Enter Description","auto-size":{minRows:2,maxRows:5}},null,8,["value","placeholder"]),s(m).errors.description?(u(),d("div",Ye,o(s(m).errors.description),1)):p("",!0)]),t("div",qe,[t("label",Ke,o(l.value.image||"Image"),1),$.value?(u(),d("div",Ge,[t("p",He,o(l.value.current_image||"Current Image"),1),t("img",{src:"/storage/"+$.value,alt:"Current Brand Image",class:"w-24 h-24 object-cover rounded border"},null,8,Je)])):p("",!0),t("input",{type:"file",onChange:ae,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),s(m).errors.image?(u(),d("div",Qe,o(s(m).errors.image),1)):p("",!0),t("div",We,o(l.value.keep_current_image||"Leave empty to keep the current image"),1),U.value?(u(),d("div",Xe,[t("p",Ze,o(l.value.new_image_preview||"New Image Preview")+":",1),t("img",{src:U.value,alt:"New Image Preview",class:"w-24 h-24 object-cover rounded border"},null,8,et)])):p("",!0)]),t("div",tt,[n(g,{type:"default",onClick:e[10]||(e[10]=a=>w.value=!1)},{default:r(()=>[v(o(l.value.cancel||"Cancel"),1)]),_:1}),n(g,{type:"primary","html-type":"submit",class:"ml-2"},{default:r(()=>[v(o(l.value.update||"Update"),1)]),_:1})])],32)]),_:1},8,["open","title"]),n(A,{open:h.value,"onUpdate:open":e[19]||(e[19]=a=>h.value=a),title:"Add Product Name  ",onCancel:e[20]||(e[20]=a=>h.value=!1),footer:null},{default:r(()=>[t("h4",at,"Brand ("+o(R.value)+")",1),t("form",{onSubmit:e[18]||(e[18]=j(a=>ee(),["prevent"]))},[me(n(P,{value:s(_).brand_id,"onUpdate:value":e[14]||(e[14]=a=>s(_).brand_id=a),class:"mt-2 w-full",placeholder:"Enter Name"},null,8,["value"]),[[ve,!1]]),t("div",lt,[e[28]||(e[28]=t("label",{class:"block"},"Name",-1)),n(P,{value:s(_).name,"onUpdate:value":e[15]||(e[15]=a=>s(_).name=a),class:"mt-2 w-full",placeholder:"Enter Name"},null,8,["value"]),s(_).errors.name?(u(),d("div",st,o(s(_).errors.name),1)):p("",!0)]),t("div",ot,[e[29]||(e[29]=t("label",{class:"block"},"Description",-1)),n(D,{value:s(_).description,"onUpdate:value":e[16]||(e[16]=a=>s(_).description=a),class:"mt-2 w-full",placeholder:"Description","auto-size":{minRows:2,maxRows:5}},null,8,["value"]),s(_).errors.description?(u(),d("div",nt,o(s(_).errors.description),1)):p("",!0)]),t("div",it,[n(g,{type:"default",onClick:e[17]||(e[17]=a=>h.value=!1)},{default:r(()=>e[30]||(e[30]=[v("Cancel")])),_:1}),n(g,{type:"primary","html-type":"submit",class:"ml-2"},{default:r(()=>e[31]||(e[31]=[v("Save")])),_:1})])],32)]),_:1},8,["open"]),n(A,{open:I.value,"onUpdate:open":e[21]||(e[21]=a=>I.value=a),title:l.value.preview||"Image Preview",onCancel:e[22]||(e[22]=a=>I.value=!1),footer:null,width:"600px"},{default:r(()=>[t("div",rt,[t("img",{src:F.value,alt:"Full Size Image",class:"max-w-full max-h-[500px] object-cover"},null,8,dt)])]),_:1},8,["open","title"])]),_:1})],64)}}});export{vt as default};
